@use super::misc::base;
@use super::misc::paginator;
@use crate::models::content::Content;
@use crate::routes::Page;
@use crate::render::*;
@use rocket_codegen::*;

@(ctx: &GlobalContext, title: &str, page: Page, posts: Vec<Content>)

@:base(ctx, title, {}, {}, {
	@for post in posts {
	<div>
		<h2><a href="@post.get_link()">@if let Some(t) = &post.title {@t} else {Untitled}</a></h2>
		<small><b>@if let Some(cat_name) = &post.get_category_name(&ctx.db).unwrap() {@cat_name} else {Uncategorized}</b> Â· @post.time</small>
	</div><hr />}
	@:paginator(page)
}, {})
